Metadata-Version: 2.4
Name: pokemon-stock-checker
Version: 0.1.0
Summary: Local Pokemon TCG stock checker with safe polling and alerts
Author: Codex
Requires-Python: >=3.11
Description-Content-Type: text/markdown
Requires-Dist: pydantic<3,>=2.6
Requires-Dist: PyYAML>=6.0
Requires-Dist: requests<3,>=2.31
Requires-Dist: playwright<2,>=1.50
Requires-Dist: rich<14,>=13.7
Requires-Dist: fastapi<1,>=0.115
Requires-Dist: uvicorn<1,>=0.30
Provides-Extra: dev
Requires-Dist: pytest<9,>=8.0; extra == "dev"
Requires-Dist: pytest-cov<6,>=5.0; extra == "dev"

# Pokemon Stock Checker

Local Pokemon TCG stock checker for Best Buy, Target, Walmart, and GameStop with alerting and a web frontend.

## Safety guardrails

- No checkout or purchase automation.
- No CAPTCHA solving, anti-bot bypass, proxy rotation, or fingerprint spoofing.
- Polling defaults to 180 seconds and enforces minimum 120 seconds with jitter.

## Features

- CLI modes: one-shot and daemon (`stockcheck once`, `stockcheck run`)
- Web UI (`stockcheck web`) to fill variables and trigger checks
- Transition-based alerts: only alerts on `OUT_OF_STOCK/UNKNOWN -> IN_STOCK`
- Persistent SQLite state cache
- ZIP geocoding via pluggable geocoder (default: Zippopotam)

## Capability matrix

- `bestbuy`: API-based (requires `BESTBUY_API_KEY`)
- `target`: Playwright page-based availability signal checks
- `walmart`: Playwright page-based availability signal checks
- `gamestop`: Playwright page-based availability signal checks

## Quick start

```bash
cd /home/justin/Git/pokemon-stock-checker
python -m venv .venv
source .venv/bin/activate
pip install -e .[dev]
playwright install chromium
cp config.example.yaml config.yaml
```

Set `BESTBUY_API_KEY` in your environment if using Best Buy SKUs.

## CLI usage

```bash
# one check pass
stockcheck once --config config.yaml --dry-run

# continuous loop with per-item jittered schedule
stockcheck run --config config.yaml

# launch web frontend
stockcheck web --host 0.0.0.0 --port 8000
```

## Web frontend

1. Start server: `stockcheck web`
2. Open `http://localhost:8000`
3. Fill ZIP or lat/lon, radius, poll interval, webhook, and watchlist JSON.
4. Click `Save Config` and then `Check Now (Dry Run)`.

## Docker

```bash
cd /home/justin/Git/pokemon-stock-checker
cp config.example.yaml config.yaml
docker compose up --build
```

## Config format

See `config.example.yaml` for complete schema.

## Testing

```bash
pytest
```
